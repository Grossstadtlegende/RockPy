

<!doctype html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Tools &#8212; RockPy pyrite-alpha documentation</title>
    <link rel="stylesheet" href="_static/bizstyle.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/bizstyle.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Implemented file types" href="ftypes.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--[if lt IE 9]>
    <script type="text/javascript" src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="ftypes.html" title="Implemented file types"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">RockPy pyrite-alpha documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="codebase.html" accesskey="U">Code base</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Tools</a><ul>
<li><a class="reference internal" href="#module-RockPy.tools.pandas_tools">pandas_tools</a></li>
<li><a class="reference internal" href="#compute">compute</a><ul>
<li><a class="reference internal" href="#module-RockPy.tools.compute">rotations</a></li>
<li><a class="reference internal" href="#conversion">conversion</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="ftypes.html"
                        title="previous chapter">Implemented file types</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/tools.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="tools">
<h1>Tools<a class="headerlink" href="#tools" title="Permalink to this headline">¶</a></h1>
<p>This is the collection of tools, that are user-firendly.</p>
<div class="section" id="module-RockPy.tools.pandas_tools">
<span id="pandas-tools"></span><h2>pandas_tools<a class="headerlink" href="#module-RockPy.tools.pandas_tools" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="RockPy.tools.pandas_tools.cool">
<code class="sig-prename descclassname">RockPy.tools.pandas_tools.</code><code class="sig-name descname">cool</code><span class="sig-paren">(</span><em class="sig-param">df</em>, <em class="sig-param">tcol='index'</em><span class="sig-paren">)</span><a class="headerlink" href="#RockPy.tools.pandas_tools.cool" title="Permalink to this definition">¶</a></dt>
<dd><p>returns only values where temperature in Tcol is decreasing</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pandas dataframe</em>) – data including columns of D, I and optionally M values</p></li>
<li><p><strong>tcol</strong> (<em>str</em>) – name of column with temperature input data, may be the index</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas dataframe with only the heating data</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="RockPy.tools.pandas_tools.correct_dec_inc">
<code class="sig-prename descclassname">RockPy.tools.pandas_tools.</code><code class="sig-name descname">correct_dec_inc</code><span class="sig-paren">(</span><em class="sig-param">df</em>, <em class="sig-param">dip</em>, <em class="sig-param">strike</em>, <em class="sig-param">newI='I_'</em>, <em class="sig-param">newD='D_'</em>, <em class="sig-param">colD='D'</em>, <em class="sig-param">colI='I'</em><span class="sig-paren">)</span><a class="headerlink" href="#RockPy.tools.pandas_tools.correct_dec_inc" title="Permalink to this definition">¶</a></dt>
<dd><p>Function that corrects the Dec and Inc values of a DataFrame by dip/strike</p>
<ol class="arabic simple">
<li><p>rotates aroud y-axis by -dip (i.e. counter clockwise)</p></li>
<li><p>rotates around z axis by -strike (i.e. counter clockwise)</p></li>
</ol>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) – </p></li>
<li><p><strong>dip</strong> (<em>float</em>) – dip of the ‘core’, ‘plate’…</p></li>
<li><p><strong>strike</strong> (<em>float</em>) – strike of the ‘core’, ‘plate’ …</p></li>
<li><p><strong>newI</strong> (<em>str</em>) – default ‘<a href="#id1"><span class="problematic" id="id2">I_</span></a>’
name of the corrected inclination column</p></li>
<li><p><strong>newD</strong> (<em>str</em>) – default ‘<a href="#id3"><span class="problematic" id="id4">D_</span></a>’
name of the corrected inclination column</p></li>
<li><p><strong>colI</strong> (<em>str</em>) – default ‘I’
name of the uncorrected inclination column</p></li>
<li><p><strong>colD</strong> (<em>str</em>) – default ‘D’
name of the uncorrected inclination column</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="RockPy.tools.pandas_tools.derivative">
<code class="sig-prename descclassname">RockPy.tools.pandas_tools.</code><code class="sig-name descname">derivative</code><span class="sig-paren">(</span><em class="sig-param">df</em>, <em class="sig-param">ycol</em>, <em class="sig-param">xcol='index'</em>, <em class="sig-param">n=1</em>, <em class="sig-param">append=False</em>, <em class="sig-param">rolling=False</em>, <em class="sig-param">edge_order=1</em>, <em class="sig-param">norm=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#RockPy.tools.pandas_tools.derivative" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the derivative of the pandas dataframe. The xcolumn and ycolumn have to be specified.
Rolling adds a rolling mean BEFORE differentiation is done. The kwargs can be used to change the rolling.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pandas.DataFrame</em>) – data to be differentiated</p></li>
<li><p><strong>xcol</strong> (<em>str</em>) – column name of the x values. Can be index then index.name is used. Default: ‘index’</p></li>
<li><p><strong>ycol</strong> (<em>str</em>) – column name of the y column</p></li>
<li><p><strong>append</strong> (<em>#</em>) – </p></li>
<li><p><strong>- if True</strong> (<em>#</em>) – </p></li>
<li><p><strong>- if False</strong> (<em>#</em>) – </p></li>
<li><p><strong>Default</strong> (<em>#</em>) – </p></li>
<li><p><strong>rolling</strong> (<em>bool</em><em>, </em><em>int</em>) – Uses a rolling mean before differentiation. Default: False
if integer is given, the int is used as ‘’window’’ parameter in DataFrame.rolling</p></li>
<li><p><strong>n</strong> (<em>(</em><em>{1</em><em>, </em><em>2}</em><em>, </em><em>optional</em><em>)</em>) – Degree of differentiation. Default:1</p></li>
<li><p><strong>edgeorder</strong> (<em>(</em><em>{1</em><em>, </em><em>2}</em><em>, </em><em>optional</em><em>)</em>) – Gradient is calculated using N-th order accurate differences at the boundaries. Default: 1</p></li>
<li><p><strong>norm</strong> (<em>bool</em>) – returns data normalized to the maximum</p></li>
<li><p><strong>kwargs</strong> – passed to rolling</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Pandas dataframe</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="RockPy.tools.pandas_tools.detect_outlier">
<code class="sig-prename descclassname">RockPy.tools.pandas_tools.</code><code class="sig-name descname">detect_outlier</code><span class="sig-paren">(</span><em class="sig-param">df</em>, <em class="sig-param">column</em>, <em class="sig-param">threshold=3</em>, <em class="sig-param">order=4</em><span class="sig-paren">)</span><a class="headerlink" href="#RockPy.tools.pandas_tools.detect_outlier" title="Permalink to this definition">¶</a></dt>
<dd><p>Detects Outliers by first fitting a polynomial p(x) of order &lt;order. to the data. Then calculates the root mean
square error from the residuals. The data is then compared to the fit ± the threshold * RMSe.
All points that are outside this boundary, are considered an outlier.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pandas.Dataframe</em>) – </p></li>
<li><p><strong>column</strong> (<em>str</em>) – column to detect outliers in</p></li>
<li><p><strong>threshold</strong> (<em>int</em>) – default: 3
multiples of the RMSerror</p></li>
<li><p><strong>order</strong> (<em>int</em>) – default: 4
order of the polynomial</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list of indices</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="RockPy.tools.pandas_tools.dim2xyz">
<code class="sig-prename descclassname">RockPy.tools.pandas_tools.</code><code class="sig-name descname">dim2xyz</code><span class="sig-paren">(</span><em class="sig-param">df</em>, <em class="sig-param">colD='D'</em>, <em class="sig-param">colI='I'</em>, <em class="sig-param">colM='M'</em>, <em class="sig-param">colX='x'</em>, <em class="sig-param">colY='y'</em>, <em class="sig-param">colZ='z'</em><span class="sig-paren">)</span><a class="headerlink" href="#RockPy.tools.pandas_tools.dim2xyz" title="Permalink to this definition">¶</a></dt>
<dd><p>adds x,y,z columns to pandas dataframe calculated from D,I,(M) columns</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pandas dataframe</em>) – data including columns of D, I and optionally M values</p></li>
<li><p><strong>colD</strong> (<em>str</em>) – name of column with declination input data</p></li>
<li><p><strong>colI</strong> (<em>str</em>) – name of column with inclination input data</p></li>
<li><p><strong>colM</strong> (<em>str</em>) – name of column with moment data (will be set to 1 if None)</p></li>
<li><p><strong>colX</strong> (<em>str</em>) – name of column for x data (will be created or overwritten)</p></li>
<li><p><strong>colY</strong> (<em>str</em>) – name of column for y data (will be created or overwritten)</p></li>
<li><p><strong>colZ</strong> (<em>str</em>) – name of column for z data (will be created or overwritten)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="RockPy.tools.pandas_tools.get_values_in_both">
<code class="sig-prename descclassname">RockPy.tools.pandas_tools.</code><code class="sig-name descname">get_values_in_both</code><span class="sig-paren">(</span><em class="sig-param">a</em>, <em class="sig-param">b</em>, <em class="sig-param">key='level'</em>, <em class="sig-param">return_sorted=True</em><span class="sig-paren">)</span><a class="headerlink" href="#RockPy.tools.pandas_tools.get_values_in_both" title="Permalink to this definition">¶</a></dt>
<dd><p>Looks through pd.DataFrame(a)[key] and pd.DataFrame(b)[key] to find values in both</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>a</strong> (<em>pd.DataFrame</em>) – first DataFrame</p></li>
<li><p><strong>b</strong> (<em>pd.DataFrame</em>) – second DataFrame</p></li>
<li><p><strong>key</strong> (<em>str</em>) – </p></li>
<li><p><strong>return_sorted</strong> (<em>bool</em><em>, </em><em>optional</em>) – default: True
if True the values are returned sorted
if False values are returned as is</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>sorted(list) of items</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="RockPy.tools.pandas_tools.heat">
<code class="sig-prename descclassname">RockPy.tools.pandas_tools.</code><code class="sig-name descname">heat</code><span class="sig-paren">(</span><em class="sig-param">df</em>, <em class="sig-param">tcol='index'</em><span class="sig-paren">)</span><a class="headerlink" href="#RockPy.tools.pandas_tools.heat" title="Permalink to this definition">¶</a></dt>
<dd><p>returns only values where temperature in Tcol is increasing</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pandas dataframe</em>) – data including columns of D, I and optionally M values</p></li>
<li><p><strong>tcol</strong> (<em>str</em>) – name of column with temperature input data, may be the index</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas dataframe with only the heating data</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="RockPy.tools.pandas_tools.interpolate">
<code class="sig-prename descclassname">RockPy.tools.pandas_tools.</code><code class="sig-name descname">interpolate</code><span class="sig-paren">(</span><em class="sig-param">df</em>, <em class="sig-param">levels</em>, <em class="sig-param">retain_levels=True</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#RockPy.tools.pandas_tools.interpolate" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpolates a dataframe to new index values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> – </p></li>
<li><p><strong>levels</strong> – </p></li>
<li><p><strong>retain_levels</strong> – </p></li>
<li><p><strong>kwargs</strong> (<em>dict</em>) – passed on to pandas.DataFrame.interpolate</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
<p>a copy of the original DataFrame with the interpolated values</p>
</dd></dl>

<dl class="function">
<dt id="RockPy.tools.pandas_tools.regularize_data">
<code class="sig-prename descclassname">RockPy.tools.pandas_tools.</code><code class="sig-name descname">regularize_data</code><span class="sig-paren">(</span><em class="sig-param">df</em>, <em class="sig-param">order=2</em>, <em class="sig-param">grid_spacing=2</em>, <em class="sig-param">ommit_n_points=0</em>, <em class="sig-param">check=False</em>, <em class="sig-param">**parameter</em><span class="sig-paren">)</span><a class="headerlink" href="#RockPy.tools.pandas_tools.regularize_data" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Parameters</p>
</div></blockquote>
<blockquote>
<div><dl>
<dt>method: str</dt><dd><p>method with which the data is fitted between grid points.</p>
<dl class="simple">
<dt>first:</dt><dd><p>data is fitted using a first order polinomial <span class="math notranslate nohighlight">\(M(B) = a_1 + a2*B\)</span></p>
</dd>
<dt>second:</dt><dd><p>data is fitted using a second order polinomial <span class="math notranslate nohighlight">\(M(B) = a_1 + a2*T +a3*B^2\)</span></p>
</dd>
</dl>
</dd>
<dt>parameter: dict</dt><dd><p>Keyword arguments passed through</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="RockPy.tools.pandas_tools.remove_outliers">
<code class="sig-prename descclassname">RockPy.tools.pandas_tools.</code><code class="sig-name descname">remove_outliers</code><span class="sig-paren">(</span><em class="sig-param">df</em>, <em class="sig-param">column</em>, <em class="sig-param">threshold=3</em>, <em class="sig-param">order=4</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#RockPy.tools.pandas_tools.remove_outliers" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes outliers from pandas.DataFrame using detect_outliers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pandas.DataFrame</em>) – </p></li>
<li><p><strong>column</strong> (<em>str</em>) – column to detect outliers in</p></li>
<li><p><strong>threshold</strong> (<em>int</em>) – default: 3
multiples of the RMSerror</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame without outliers</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="RockPy.tools.pandas_tools.xyz2dim">
<code class="sig-prename descclassname">RockPy.tools.pandas_tools.</code><code class="sig-name descname">xyz2dim</code><span class="sig-paren">(</span><em class="sig-param">df</em>, <em class="sig-param">colX='x'</em>, <em class="sig-param">colY='y'</em>, <em class="sig-param">colZ='z'</em>, <em class="sig-param">colD='D'</em>, <em class="sig-param">colI='I'</em>, <em class="sig-param">colM='M'</em><span class="sig-paren">)</span><a class="headerlink" href="#RockPy.tools.pandas_tools.xyz2dim" title="Permalink to this definition">¶</a></dt>
<dd><p>adds D,I,(M) columns to pandas dataframe calculated from x,y,z columns</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pandas dataframe</em>) – data including columns of x, y, z values</p></li>
<li><p><strong>colX</strong> (<em>str</em>) – name of column for x input data</p></li>
<li><p><strong>colY</strong> (<em>str</em>) – name of column for y input data</p></li>
<li><p><strong>colZ</strong> (<em>str</em>) – name of column for z input data</p></li>
<li><p><strong>colD</strong> (<em>str</em>) – name of column with declination data (will be created or overwritten)</p></li>
<li><p><strong>colI</strong> (<em>str</em>) – name of column with inclination data (will be created or overwritten)</p></li>
<li><p><strong>colM</strong> (<em>str</em>) – name of column with moment data (will not be written if None)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="compute">
<h2>compute<a class="headerlink" href="#compute" title="Permalink to this headline">¶</a></h2>
<div class="section" id="module-RockPy.tools.compute">
<span id="rotations"></span><h3>rotations<a class="headerlink" href="#module-RockPy.tools.compute" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="RockPy.tools.compute.rotmat">
<code class="sig-prename descclassname">RockPy.tools.compute.</code><code class="sig-name descname">rotmat</code><span class="sig-paren">(</span><em class="sig-param">dec</em>, <em class="sig-param">inc</em><span class="sig-paren">)</span><a class="headerlink" href="#RockPy.tools.compute.rotmat" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotation matrix for given <cite>dec</cite> and <cite>inc</cite> values</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dec</strong> (<em>float</em>) – declination</p></li>
<li><p><strong>inc</strong> (<em>float</em>) – inclination</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Rotation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">np.array</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="RockPy.tools.compute.rx">
<code class="sig-prename descclassname">RockPy.tools.compute.</code><code class="sig-name descname">rx</code><span class="sig-paren">(</span><em class="sig-param">angle</em><span class="sig-paren">)</span><a class="headerlink" href="#RockPy.tools.compute.rx" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotation matrix around X axis</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>angle</strong> (<em>float</em>) – angle in radians</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Rotationmatrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="RockPy.tools.compute.ry">
<code class="sig-prename descclassname">RockPy.tools.compute.</code><code class="sig-name descname">ry</code><span class="sig-paren">(</span><em class="sig-param">angle</em><span class="sig-paren">)</span><a class="headerlink" href="#RockPy.tools.compute.ry" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotation matrix around Y axis</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>angle</strong> (<em>float</em>) – angle in radians</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Rotationmatrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="RockPy.tools.compute.rz">
<code class="sig-prename descclassname">RockPy.tools.compute.</code><code class="sig-name descname">rz</code><span class="sig-paren">(</span><em class="sig-param">angle</em><span class="sig-paren">)</span><a class="headerlink" href="#RockPy.tools.compute.rz" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotation matrix around Z axis</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>angle</strong> (<em>float</em>) – angle in radians</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Rotationmatrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="RockPy.tools.compute.rotate">
<code class="sig-prename descclassname">RockPy.tools.compute.</code><code class="sig-name descname">rotate</code><span class="sig-paren">(</span><em class="sig-param">xyz</em>, <em class="sig-param">*</em>, <em class="sig-param">axis='x'</em>, <em class="sig-param">theta=0</em>, <em class="sig-param">input='xyz'</em><span class="sig-paren">)</span><a class="headerlink" href="#RockPy.tools.compute.rotate" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotates the vector ‘xyz’ by ‘theta’ degrees around ‘x’,’y’, or ‘z’ axis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>array like</strong> (<em>xyz</em>) – </p></li>
<li><p><strong>axis</strong> (<em>str</em>) – default: ‘x’
axis of rotation</p></li>
<li><p><strong>theta</strong> (<em>float</em>) – angle of rotation</p></li>
<li><p><strong>str</strong><strong>, </strong><strong>optional</strong> (<em>input</em>) – default ‘xyz’’
if ‘xyz’ input data contains [x,y,z] values
if ‘dim’ input data contains [d,i,m] values, where d = declination, i = inclination, and m = moment</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>np.array</em></p></li>
<li><p><em>The output array is in the same shape and type as the input array</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="RockPy.tools.compute.rotate_around_axis">
<code class="sig-prename descclassname">RockPy.tools.compute.</code><code class="sig-name descname">rotate_around_axis</code><span class="sig-paren">(</span><em class="sig-param">xyz</em>, <em class="sig-param">*</em>, <em class="sig-param">axis_unit_vector</em>, <em class="sig-param">theta</em>, <em class="sig-param">axis_di=False</em>, <em class="sig-param">input='xyz'</em><span class="sig-paren">)</span><a class="headerlink" href="#RockPy.tools.compute.rotate_around_axis" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotates a vector [x,y,z] or array of vectors around an arbitrary axis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>array like</strong> (<em>axis_unit_vector</em>) – data that shall get rotated</p></li>
<li><p><strong>array like</strong> – axis around which the rotation is supposed to happen</p></li>
<li><p><strong>float</strong> (<em>theta</em>) – angle of rotation</p></li>
<li><p><strong>dim</strong> (<em>bool</em>) – default: False
if True the xyz array contains declination and inclination values</p></li>
<li><p><strong>axis_di</strong> (<em>bool</em>) – default: False
if True the axis_unit_vector array contains declination and inclination values</p></li>
<li><p><strong>reshape</strong> (<em>bool</em>) – default: False
changes the used input and output array shape from (n,3) if False to (3,n)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>if dim = True will return DIM values
if reshape = False: [[x1,y1,z1], [x2,y2,z2]]
if reshape = True: [[x1,x1], [y2,y2], [z1,z2]]</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="RockPy.tools.compute.rotate_arbitrary">
<code class="sig-prename descclassname">RockPy.tools.compute.</code><code class="sig-name descname">rotate_arbitrary</code><span class="sig-paren">(</span><em class="sig-param">xyz</em>, <em class="sig-param">*</em>, <em class="sig-param">alpha=0</em>, <em class="sig-param">beta=0</em>, <em class="sig-param">gamma=0</em>, <em class="sig-param">input='xyz'</em><span class="sig-paren">)</span><a class="headerlink" href="#RockPy.tools.compute.rotate_arbitrary" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xyz</strong> – </p></li>
<li><p><strong>alpha</strong> – </p></li>
<li><p><strong>beta</strong> – </p></li>
<li><p><strong>gamma</strong> – </p></li>
<li><p><strong>reshape</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>if dim = True will return DIM values</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="conversion">
<h3>conversion<a class="headerlink" href="#conversion" title="Permalink to this headline">¶</a></h3>
<p>Conversion functions transform data from one coordinate system into a different one. The shape of the input will
be handled by the decorator <cite>RockPy.core.utils.handle_shape_dtype</cite>.</p>
<dl class="simple">
<dt>See Also:</dt><dd><p><code class="xref py py-func docutils literal notranslate"><span class="pre">RockPy.core.utils.handle_shape_dtype()</span></code></p>
</dd>
</dl>
<span class="target" id="module-RockPy.tools.compute"></span><dl class="function">
<dt id="RockPy.tools.compute.convert_to_xyz">
<code class="sig-prename descclassname">RockPy.tools.compute.</code><code class="sig-name descname">convert_to_xyz</code><span class="sig-paren">(</span><em class="sig-param">dim</em>, <em class="sig-param">*</em>, <em class="sig-param">M=True</em><span class="sig-paren">)</span><a class="headerlink" href="#RockPy.tools.compute.convert_to_xyz" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a numpy array of [x,y,z] values (i.e. [[x1,y1,z1], [x2,y2,z2]]) into an numpy array with [[d1,i1,m1], [d2,i2,m2]].
Reshape allows to pass an [[x1,x2],[y1,y2],[z1,z2]] array instead.
Internally the data is handled in  the (n,3) format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dim</strong> (<em>np.array</em><em>, </em><em>list</em>) – data either shape(n,3) of shape(3,n)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>np.array</em></p></li>
<li><p><em>The output array is in the same shape and type as the input array</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="RockPy.tools.compute.convert_to_dim">
<code class="sig-prename descclassname">RockPy.tools.compute.</code><code class="sig-name descname">convert_to_dim</code><span class="sig-paren">(</span><em class="sig-param">xyz</em><span class="sig-paren">)</span><a class="headerlink" href="#RockPy.tools.compute.convert_to_dim" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a numpy array of [d,i,m] values (i.e. [[d1,i1,m1], [d2,i2,m2]]) into an numpy array with [[x1,y1,z1], [x2,y2,z2]]
Reshape allows to pass an [[d1,d2],[i1,i2],[m1,m2]] array instead.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>array like</strong> (<em>xyz</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>np.array</em></p></li>
<li><p><em>The output array is in the same shape and type as the input array</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="RockPy.tools.compute.convert_to_stereographic">
<code class="sig-prename descclassname">RockPy.tools.compute.</code><code class="sig-name descname">convert_to_stereographic</code><span class="sig-paren">(</span><em class="sig-param">xyz</em>, <em class="sig-param">input='dim'</em><span class="sig-paren">)</span><a class="headerlink" href="#RockPy.tools.compute.convert_to_stereographic" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Transforms an array of [x,y,z] values (i.e. [[x1,y1,z1], [x2,y2,z2]]) into an
numpy array with [d,r,neg], where:</p>
<blockquote>
<div><p>d = declination,
r = radius in equal area projection and
neg = array of 0,1 values where 0 = i &gt; 0 and 1 = i &lt; 0</p>
</div></blockquote>
<p>r is calculated according to Collinson, 1983 by
.. math:</p>
<blockquote>
<div><p>R = 1 - ( R_0 * [ 1 -   an(</p>
</div></blockquote>
</div></blockquote>
<p>rac{pi}{4} -
rac{I}{2})]</p>
<blockquote>
<div><p>xyz array like
input str, optional</p>
<blockquote>
<div><p>default ‘xyz’’
if ‘xyz’ input data contains [x,y,z] values
if ‘dim’ input data contains [d,i,m] values, where d = declination, i = inclination, and m = moment</p>
</div></blockquote>
<blockquote>
<div><p>np.array
The output array is in the same shape and type as the input array</p>
</div></blockquote>
<p>convert_to_dim, convert_to_xyz, convert_to_equal_area</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="RockPy.tools.compute.convert_to_equal_area">
<code class="sig-prename descclassname">RockPy.tools.compute.</code><code class="sig-name descname">convert_to_equal_area</code><span class="sig-paren">(</span><em class="sig-param">xyz</em>, <em class="sig-param">input='xyz'</em><span class="sig-paren">)</span><a class="headerlink" href="#RockPy.tools.compute.convert_to_equal_area" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms an array of [x,y,z] values (i.e. [[x1,y1,z1], [x2,y2,z2]]) into an
numpy array with [d,r,neg], where:</p>
<blockquote>
<div><p>d = declination,
r = radius in equal area projection and
neg = array of 0,1 values where 0 = i &gt; 0 and 1 = i &lt; 0</p>
</div></blockquote>
<p>r is calculated according to Collinson, 1983 by
.. math:</p>
<blockquote>
<div><p>R = 1 - ( R_0 * [ 1 - sqrt{1- sin(I)}])</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>array like</strong> (<em>xyz</em>) – </p></li>
<li><p><strong>str</strong><strong>, </strong><strong>optional</strong> (<em>input</em>) – default ‘xyz’’
if ‘xyz’ input data contains [x,y,z] values
if ‘dim’ input data contains [d,i,m] values, where d = declination, i = inclination, and m = moment</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>np.array</em></p></li>
<li><p><em>The output array is in the same shape and type as the input array</em></p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#RockPy.tools.compute.convert_to_dim" title="RockPy.tools.compute.convert_to_dim"><code class="xref py py-func docutils literal notranslate"><span class="pre">convert_to_dim()</span></code></a>, <a class="reference internal" href="#RockPy.tools.compute.convert_to_xyz" title="RockPy.tools.compute.convert_to_xyz"><code class="xref py py-func docutils literal notranslate"><span class="pre">convert_to_xyz()</span></code></a>, <a class="reference internal" href="#RockPy.tools.compute.convert_to_stereographic" title="RockPy.tools.compute.convert_to_stereographic"><code class="xref py py-func docutils literal notranslate"><span class="pre">convert_to_stereographic()</span></code></a></p>
</div>
</dd></dl>

<dl class="function">
<dt id="RockPy.tools.compute.convert_to_hvl">
<code class="sig-prename descclassname">RockPy.tools.compute.</code><code class="sig-name descname">convert_to_hvl</code><span class="sig-paren">(</span><em class="sig-param">xyz</em>, <em class="sig-param">input='xyz'</em><span class="sig-paren">)</span><a class="headerlink" href="#RockPy.tools.compute.convert_to_hvl" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms an array of [x,y,z] values (i.e. [[x1,y1,z1], [x2,y2,z2]]) into an
numpy array with [h,v,M], where:</p>
<blockquote>
<div><p>h = horizontal moment,
v = vertical moment, and
M = total moment</p>
</div></blockquote>
<p>h, v are calculated by
.. math:</p>
<blockquote>
<div><p>H = M * cos(I)
V = M * sin(I)</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>array like</strong> (<em>xyz</em>) – </p></li>
<li><p><strong>str</strong><strong>, </strong><strong>optional</strong> (<em>input</em>) – default ‘xyz’’
if ‘xyz’ input data contains [x,y,z] values
if ‘dim’ input data contains [d,i,m] values, where d = declination, i = inclination, and m = moment</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>np.array</em></p></li>
<li><p><em>The output array is in the same shape and type as the input array</em></p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#RockPy.tools.compute.convert_to_dim" title="RockPy.tools.compute.convert_to_dim"><code class="xref py py-func docutils literal notranslate"><span class="pre">convert_to_dim()</span></code></a>, <a class="reference internal" href="#RockPy.tools.compute.convert_to_xyz" title="RockPy.tools.compute.convert_to_xyz"><code class="xref py py-func docutils literal notranslate"><span class="pre">convert_to_xyz()</span></code></a>, <a class="reference internal" href="#RockPy.tools.compute.convert_to_stereographic" title="RockPy.tools.compute.convert_to_stereographic"><code class="xref py py-func docutils literal notranslate"><span class="pre">convert_to_stereographic()</span></code></a></p>
</div>
</dd></dl>

</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="ftypes.html" title="Implemented file types"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">RockPy pyrite-alpha documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="codebase.html" >Code base</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2019, Michael Volk.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.1.2.
    </div>
  </body>
</html>